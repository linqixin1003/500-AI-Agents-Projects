# 贡献指南

感谢您考虑为Diabeat项目做出贡献！本指南将帮助您了解如何参与项目开发。

## 开发流程

1. 克隆仓库并创建新分支
2. 安装依赖：`pip install -r requirements.txt`
3. 配置开发环境（详见配置文档）
   - 对于MCP相关开发，请参考 [MCP集成指南](docs/MCP_INTEGRATION.md)
4. 编写代码并添加测试
5. 运行测试确保代码质量
6. 提交Pull Request

## 代码规范

- 遵循PEP 8规范
- 使用类型注解
- 添加详细的文档字符串
- 编写单元测试

## MCP集成开发指南

如果您想参与MCP相关功能的开发，请遵循以下指南：

1. **环境设置**：
   - 参考 `config/.env.example.mcp` 设置MCP相关环境变量
   - 确保理解MCP的配置选项（如超时、重试次数等）

2. **客户端开发**：
   - 所有MCP客户端代码位于 `app/utils/fastmcp_client.py`
   - 添加新功能时，请遵循现有模式，包括错误处理和回退方案

3. **新代理集成**：
   - 当集成新的MCP代理时，请：
     - 在客户端中添加相应的方法
     - 实现适当的回退逻辑
     - 添加错误处理和重试机制

4. **测试建议**：
   - 测试MCP服务可用和不可用两种情况
   - 确保回退方案在MCP服务不可用时正常工作
   - 测试不同的网络条件和错误情况

## 报告问题

如果您发现bug或有新功能建议，请在GitHub上创建issue，并提供尽可能详细的信息。

## 提交Pull Request

请在提交Pull Request时：

- 提供清晰的描述
- 解释您的更改如何解决问题或实现功能
- 确保所有测试通过
- 遵循项目的代码风格

感谢您的贡献！
